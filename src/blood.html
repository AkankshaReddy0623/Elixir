<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Test Report Form</title>
    <link rel="stylesheet" href="./output.css">
</head>
<body class="mb-4 p-5">

<div class="max-w-md mx-auto bg-white p-6">
    <h2 class="text-center text-2xl text-blue-500 mb-6">Blood Test Report</h2>
    <form>
        <!-- Date of Test -->
        <div class="mb-4">
            <label for="test-date" class="block text-gray-700 mb-2">Date of Test</label>
            <input type="date" id="test-date" name="test-date" required class="w-full p-2 border rounded-md border-gray-300">
        </div>

        <!-- Complete Blood Count (CBC) -->
        <h3 class="text-lg text-gray-800 mb-4">Complete Blood Count (CBC)</h3>
        <div class="mb-4">
            <label for="hemoglobin" class="block text-gray-700 mb-2">Hemoglobin (g/dL)</label>
            <input type="number" id="hemoglobin" name="hemoglobin" required class="w-full p-2 border rounded-md border-gray-300">
        </div>
        <div class="mb-4">
            <label for="rbc" class="block text-gray-700 mb-2">Red Blood Cell Count (million cells/ŒºL)</label>
            <input type="number" id="rbc" name="rbc" required class="w-full p-2 border rounded-md border-gray-300">
        </div>
        <div class="mb-4">
            <label for="wbc" class="block text-gray-700 mb-2">White Blood Cell Count (cells/ŒºL)</label>
            <input type="number" id="wbc" name="wbc" required class="w-full p-2 border rounded-md border-gray-300">
        </div>
        <div class="mb-4">
            <label for="platelets" class="block text-gray-700 mb-2">Platelets (thousand cells/ŒºL)</label>
            <input type="number" id="platelets" name="platelets" required class="w-full p-2 border rounded-md border-gray-300">
        </div>

        <!-- Glucose and Metabolic Panel -->
        <h3 class="text-lg text-gray-800 mb-4">Glucose and Metabolic Panel</h3>
        <div class="mb-4">
            <label for="glucose" class="block text-gray-700 mb-2">Glucose Levels (mg/dL)</label>
            <input type="number" id="glucose" name="glucose" required class="w-full p-2 border rounded-md border-gray-300">
        </div>
        <div class="mb-4">
            <label for="creatinine" class="block text-gray-700 mb-2">Creatinine (mg/dL)</label>
            <input type="number" id="creatinine" name="creatinine" required class="w-full p-2 border rounded-md border-gray-300">
        </div>
        <div class="mb-4">
            <label for="bun" class="block text-gray-700 mb-2">Blood Urea Nitrogen (BUN) (mg/dL)</label>
            <input type="number" id="bun" name="bun" required class="w-full p-2 border rounded-md border-gray-300">
        </div>

        <!-- Vitamin and Mineral Levels -->
        <h3 class="text-lg text-gray-800 mb-4">Vitamin & Mineral Levels</h3>
        <div class="mb-4">
            <label for="iron" class="block text-gray-700 mb-2">Iron (mcg/dL)</label>
            <input type="number" id="iron" name="iron" required class="w-full p-2 border rounded-md border-gray-300">
        </div>
        <div class="mb-4">
            <label for="vitaminB12" class="block text-gray-700 mb-2">Vitamin B12 (pg/mL)</label>
            <input type="number" id="vitaminB12" name="vitaminB12" required class="w-full p-2 border rounded-md border-gray-300">
        </div>
        <div class="mb-4">
            <label for="calcium" class="block text-gray-700 mb-2">Calcium (mg/dL)</label>
            <input type="number" id="calcium" name="calcium" required class="w-full p-2 border rounded-md border-gray-300">
        </div>

        <!-- Submit Button -->
        <button type="submit" onclick="handleBloodReportSubmit()" class="w-full py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">Submit Report</button>
    </form>
</div>

<!-- Footer Navigation -->
<footer class="fixed bottom-0 left-0 right-0 bg-white border-t mt-6 flex justify-around pt-4 z-50">
    <a href="./home.html" class="text-blue-600 text-2xl lg:text-3xl">üè†</a>
    <a href="./contact.html" class="text-gray-600 text-2xl lg:text-3xl">ü©∫</a>
    <a href="./reminder.html" class="text-gray-600 text-2xl lg:text-3xl">üìä</a>
    <a href="./articles.html" class="text-gray-600 text-2xl lg:text-3xl">üì∞</a>
  </footer>

  <script>
    const handleBloodReportSubmit = async () => {
      const bloodReportData = {
        date: document.getElementById("test-date").value,
        hemoglobin: document.getElementById("hemoglobin").value,
        rbc: document.getElementById("rbc").value,
        wbc: document.getElementById("wbc").value,
        platelets: document.getElementById("platelets").value,
        glucose: document.getElementById("glucose").value,
        creatinine: document.getElementById("creatinine").value,
        bun: document.getElementById("bun").value,
        iron: document.getElementById("iron").value,
        vitaminB12: document.getElementById("vitaminB12").value,
        calcium: document.getElementById("calcium").value
      };

      await fetch("http://localhost:8000/bloodReports", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(bloodReportData)
      });
    };
</script>

</body>
</html>
